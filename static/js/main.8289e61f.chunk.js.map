{"version":3,"sources":["components/users/dataTable.js","components/users/UsersStyled.js","components/users/Users.js","components/app/App.js","index.js"],"names":["arrayHeader","title","type","name","value","placeholder","checkboxes","lable","UsersStyles","styled","div","initialChecked","m","f","initialSearch","lastname","age","Users","useState","userData","setUserData","checked","setChecked","isShow","setIsShow","search","setSearch","onHandleChange","e","target","prev","Number","onHandleCheck","map","user","sex","getUsers","axios","get","then","res","data","catch","err","console","log","useEffect","length","filter","toLowerCase","includes","Object","values","every","className","arrHeader","onChange","checkbox","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8289e61f.chunk.js","sourcesContent":["export const arrayHeader = [\n  {\n    title: \"Имя\",\n    type: \"text\",\n    name: \"name\",\n    value: \"\",\n    placeholder: \"Введите имя\",\n  },\n  {\n    title: \"Фамилия\",\n    type: \"text\",\n    name: \"lastname\",\n    value: \"\",\n    placeholder: \"Введите фамилию\",\n  },\n  {\n    title: \"Возраст\",\n    type: \"number\",\n    name: \"age\",\n    value: \"\",\n    placeholder: \"Введите возраст\",\n  },\n  {\n    title: \"Пол\",\n    type: \"checkbox\",\n    checkboxes: [\n      { name: \"m\", lable: \"мужской\" },\n      { name: \"f\", lable: \"женский\" },\n    ],\n  },\n];\n","import styled from \"styled-components\";\n\nexport const UsersStyles = styled.div`\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  padding-top: 50px;\n\n  th {\n    font-size: 16px;\n    font-weight: 400;\n    line-height: 44px;\n    color: white;\n    background: cornflowerblue;\n    padding: 14px 24px;\n    margin-right: 1px;\n  }\n  td {\n    line-height: 40px;\n    border: dotted 1px cornflowerblue;\n  }\n  th,\n  tr {\n    min-width: auto;\n  }\n  th:first-of-type {\n    border-top-left-radius: 8px;\n  }\n  th:last-of-type {\n    border-top-right-radius: 8px;\n  }\n  input {\n    outline: none;\n    border: none;\n    border-radius: 50pc;\n    padding: 4px 12px;\n  }\n  input[type=\"checkbox\"]:checked,\n  input[type=\"checkbox\"]:not(:checked) {\n    width: 12px;\n    height: 12px;\n    cursor: pointer;\n  }\n  label:first-of-type {\n    margin-right: 20px;\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { arrayHeader } from \"./dataTable\";\nimport { UsersStyles } from \"./UsersStyled\";\n\nconst initialChecked = { m: false, f: false };\nconst initialSearch = { name: \"\", lastname: \"\", age: \"\" };\n\nfunction Users() {\n  const [userData, setUserData] = useState([]);\n  const [checked, setChecked] = useState(initialChecked);\n  const [isShow, setIsShow] = useState(true);\n  const [search, setSearch] = useState(initialSearch);\n\n  const onHandleChange = (e) => {\n    const { name, value } = e.target;\n    setSearch((prev) => ({\n      ...prev,\n      [name]: name === \"age\" ? Number(value) : value,\n    }));\n  };\n\n  const onHandleCheck = (e) => {\n    setIsShow(false);\n    const { name } = e.target;\n\n    setChecked((prev) => ({ ...prev, [name]: !prev.name }));\n\n    setUserData((prev) => [\n      ...prev.map((user) =>\n        name === user.sex ? { ...user, checked: !user.checked } : { ...user }\n      ),\n    ]);\n  };\n\n  const getUsers = () => {\n    axios\n      .get(\"https://venbest-test.herokuapp.com/\")\n      .then((res) =>\n        setUserData([\n          ...res.data.map((user) => ({\n            ...user,\n            checked: checked[user.sex],\n          })),\n        ])\n      )\n      .catch((err) => console.log(err));\n  };\n\n  useEffect(() => {\n    if (search.name.length > 0) {\n      setUserData(\n        userData.filter((user) => user.name.toLowerCase().includes(search.name))\n      );\n    }\n\n    if (search.lastname.length > 0) {\n      setUserData(\n        userData.filter((user) =>\n          user.lastname.toLowerCase().includes(search.lastname)\n        )\n      );\n    }\n\n    if (search.age >= 18) {\n      setUserData(userData.filter((user) => user.age === search.age));\n    }\n\n    search.age === 0 && (search.age = \"\");\n    Object.values(search).every((value) => value === \"\") && getUsers();\n  }, [search]);\n\n  useEffect(() => {\n    !userData.length && getUsers();\n  }, []);\n\n  return (\n    <UsersStyles>\n      <table>\n        <tbody>\n          <tr className=\"tableHeader\">\n            {arrayHeader.map((arrHeader) => (\n              <th key={arrHeader.title}>\n                {arrHeader.title}\n                <br />\n                {arrHeader.title !== \"Пол\" ? (\n                  <input\n                    type={arrHeader.type}\n                    name={arrHeader.name}\n                    value={search[arrHeader.name]}\n                    placeholder={arrHeader.placeholder}\n                    onChange={onHandleChange}\n                  />\n                ) : (\n                  arrHeader.checkboxes.map((checkbox) => (\n                    <label key={checkbox.name}>\n                      {checkbox.lable}\n                      <input\n                        type={arrHeader.type}\n                        name={checkbox.name}\n                        onChange={onHandleCheck}\n                      />\n                    </label>\n                  ))\n                )}\n              </th>\n            ))}\n          </tr>\n          {userData.map(\n            (user) =>\n              (isShow || user.checked) && (\n                <tr key={user.lastname}>\n                  <td>{user.name}</td>\n                  <td>{user.lastname}</td>\n                  <td>{user.age}</td>\n                  <td>{user.sex}</td>\n                </tr>\n              )\n          )}\n        </tbody>\n      </table>\n    </UsersStyles>\n  );\n}\n\nexport default Users;\n","import React from \"react\";\nimport Users from \"../users/Users\";\n\nfunction App() {\n  return <Users />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/app/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}